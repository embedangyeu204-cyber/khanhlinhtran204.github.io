<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Form Validation</title>
  <script language="javascript">
    function formValid() {
      var f = document.fmRegister;

      // Biểu thức kiểm tra số điện thoại (10-11 chữ số)
      var phone_pattern = /(^[0-9]{10,11}$)/;
      // Biểu thức kiểm tra email
      var email_pattern = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/;

      // 1️⃣ Kiểm tra username
      if (f.txtUsername.value == "") {
        alert("Username can't be empty");
        f.txtUsername.focus();
        return false;
      }

      // 2️⃣ Kiểm tra độ dài password
      if (f.txtPassword.value.length < 6 || f.txtPassword.value.length > 20) {
        alert("Password length must be from 6 to 20 characters");
        f.txtPassword.focus();
        return false;
      }

      // 3️⃣ Kiểm tra confirm password
      if (f.txtPassword.value != f.txtPassword2.value) {
        alert("Password doesn't match");
        f.txtPassword2.focus();
        return false;
      }

      // 4️⃣ Kiểm tra số điện thoại
      if (phone_pattern.test(f.txtPhone.value) == false) {
        alert("Invalid phone number");
        f.txtPhone.focus();
        return false;
      }

      // 5️⃣ Kiểm tra email hợp lệ
      if (email_pattern.test(f.txtEmail.value) == false) {
        alert("Invalid email address");
        f.txtEmail.focus();
        return false;
      }

      // 6️⃣ Kiểm tra sở thích (checkbox)
      if (f.chkMusic.checked == false && f.chkReading.checked == false) {
        alert("You must select at least one favourite");
        f.chkMusic.focus();
        return false;
      }

      // 7️⃣ Kiểm tra có chọn hình ảnh chưa
      if (f.filePicture.value == "") {
        alert("You must select your picture");
        f.filePicture.focus();
        return false;
      }

      // 8️⃣ Kiểm tra mô tả
      if (f.txtDescription.value == "") {
        alert("You must enter description");
        f.txtDescription.focus();
        return false;
      }

      // ✅ Nếu tất cả hợp lệ
      alert("All register information are correct.");
      return true;
    }
  </script>
</head>

<body>
  <form name="fmRegister" method="get" onsubmit="return formValid();">
    <table align="center" border="0">
      <tr>
        <td colspan="2" align="center">
          <h2>REGISTER NEW ACCOUNT</h2>
        </td>
      </tr>

      <tr>
        <td align="right">Username:</td>
        <td><input type="text" name="txtUsername" /></td>
      </tr>

      <tr>
        <td align="right">Password:</td>
        <td><input type="password" name="txtPassword" /></td>
      </tr>

      <tr>
        <td align="right">Confirm password:</td>
        <td><input type="password" name="txtPassword2" /></td>
      </tr>

      <tr>
        <td align="right">Gender:</td>
        <td>
          <input type="radio" name="gender" value="Male" /> Male
          <input type="radio" name="gender" value="Female" /> Female
        </td>
      </tr>

      <tr>
        <td align="right">Phone:</td>
        <td><input type="text" name="txtPhone" /></td>
      </tr>

      <tr>
        <td align="right">Email:</td>
        <td><input type="text" name="txtEmail" /></td>
      </tr>

      <tr>
        <td align="right">Favourite:</td>
        <td>
          <input type="checkbox" name="chkMusic" value="Music" /> Music
          <input type="checkbox" name="chkReading" value="Reading" /> Reading
        </td>
      </tr>

      <tr>
        <td align="right">Picture:</td>
        <td><input type="file" name="filePicture" /></td>
      </tr>

      <tr>
        <td align="right">Description:</td>
        <td><textarea name="txtDescription" cols="30" rows="4"></textarea></td>
      </tr>

      <tr>
        <td align="right">Education level:</td>
        <td>
          <select name="education">
            <option value="Bachelor">Bachelor</option>
            <option value="Master">Master</option>
            <option value="PhD">PhD</option>
          </select>
        </td>
      </tr>

      <tr>
        <td align="right">Language:</td>
        <td>
          <select name="language" multiple size="3">
            <option value="English">English</option>
            <option value="French">French</option>
            <option value="Japanese">Japanese</option>
          </select>
        </td>
      </tr>

      <tr>
        <td colspan="2" align="center">
          <input type="submit" value="Register" />
          <input type="reset" value="Reset" />
        </td>
      </tr>
    </table>
  </form>
</body>
</html>
