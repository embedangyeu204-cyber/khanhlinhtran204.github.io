<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Mini Calculator</title>
  <script language="javascript">
    function calculate() {
      var a = document.fmcal.txta;
      var b = document.fmcal.txtb;
      var o = document.fmcal.sltop;
      var r = document.fmcal.txtr;

      // Biểu thức chính quy kiểm tra số hợp lệ
      var numberFormat = /^[+-]?\d+(\.\d+)?$/;

      // Kiểm tra dữ liệu nhập của a
      if (numberFormat.test(a.value) == false) {
        alert("a must be a number!");
        a.focus();
      }
      // Kiểm tra dữ liệu nhập của b
      else if (numberFormat.test(b.value) == false) {
        alert("b must be a number!");
        b.focus();
      }
      // Kiểm tra phép chia cho 0
      else if ((o.value == "/" || o.value == "%") && parseFloat(b.value) == 0) {
        alert("b can't be 0!");
        b.focus();
      }
      // Nếu hợp lệ thì tính kết quả
      else {
        r.value = eval(a.value + o.value + b.value);
      }
    }
  </script>
</head>

<body>
  <form name="fmcal">
    <table border="0" align="center">
      <tr>
        <td colspan="2" align="center"><h2>MINI CALCULATOR</h2></td>
      </tr>

      <tr>
        <td align="right">a = </td>
        <td><input type="text" name="txta" /></td>
      </tr>

      <tr>
        <td align="right">b = </td>
        <td><input type="text" name="txtb" /></td>
      </tr>

      <tr>
        <td align="right">Operator:</td>
        <td>
          <select name="sltop">
            <option value="+">+</option>
            <option value="-">-</option>
            <option value="*">*</option>
            <option value="/">/</option>
            <option value="%">%</option>
          </select>
        </td>
      </tr>

      <tr>
        <td align="right"><b>Result:</b></td>
        <td><input type="text" name="txtr" readonly /></td>
      </tr>

      <tr>
        <td colspan="2" align="center">
          <input type="button" value="Calculate" onclick="calculate()" />
        </td>
      </tr>
    </table>
  </form>
</body>
</html>
